<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>03-03</title>
    </head>
    <body>
        <div></div>
        <div id="result"></div>
        <script>
            const result = document.getElementById("result");
            result.innerText = "";

            var n = 0;
            const d = Date.now();
            const full = Date.now();    
            for (var k = 0; k <= 20; k++) {
                fetch(`http://localhost:5000/fact?k=${k}`, { 
                    method: "GET", mode: "no-cors",
                    headers: {"Content-Type": "application/json", "Accept": "application/json"}
                })
                .then(response => {return response.json();})
                .then((pdata) => {
                    result.innerText += (n++) + ". Результат: " + (Date.now()-d) + "-" + pdata.k + "/" + pdata.fact + "\n";
                })
            }
        </script>
    </body>
</html>